# Конвертер G-code в Rapid

Преобразует G-code для работы с ЧПУ в код на языке Rapid для работы с фрезерным инструментом.

Для работы программы необходимо:
1. Загрузить файл, содержащий G-code, с помощью кнопки "Загрузить файл": в случае успеха в окне "Исходный G-code" отобразится содержимое файла.
2. По желанию: изменить настройки для итоговой программы: 
    * название процедуры (по умолчанию: main),
    * название точки отсчёта, относительно которой будет происходить движение инструмента (по умолчанию: defaultPoint),
    * название инструмента (по умолчанию: tool0),
    * название системы координат (по умолчанию: wobj0),
    * название I/O сигнала (по умолчанию: Spindle).
3. Нажать кнопку "Конвертировать": в окне "Результат преобразования" отобразится содержимое итогового файла на языке Rapid, сам файл будет сохранен в той же папке, где был расположен исходный G-code файл.

Строки G-code файла, содержащие:
* команду включения (```M03```) инструмента, преобразуются в команды ```"SetDO *I/O сигнал*, true"```,
* * команду выключения (```M05```) инструмента, преобразуются в команды ```"SetDO *I/O сигнал*, flase"```,
* координаты, преобразуются в команды движения формата ```"MoveL Offs(*точка отсчёта*,*x,y,z*),v1000,fine,*инструмент*"```, где ```"v1000"``` и ```"fine"``` - скорость и точность движения, соответственно.

Кроме того, команды помещаются в оболочку:
```
GLOBAL PROC *название процедуры*()
    ...
ENDPROC
```

Пример программы на G-code:
```sh
N10 G90
N20 G71
N30 G00 Z20.000
N40 G00 X0.000 Y0.000
N50 M05
N60 
N70 M03 S16000
N80 G00 X0.000 Y0.000 Z5.000
N90 G01 X0.000 Y0.000 Z-1.000 F400.0
N100 G01 X0.000 Y50.000 Z-1.000 F889.0
N110 X50.000 Y50.000 Z-1.000
N120 X50.000 Y0.000 Z-1.000
N130 X0.000 Y0.000 Z-1.000
N140 G00 X0.000 Y0.000 Z5.000
N150 G00 Z20.000
N160 M05
N170 G00 X0.000 Y0.000
N180 M02
```
При настройках по умолчанию результатом работы конвертера будет тектовый файл, содержащий следующий код:
```sh
GLOBAL PROC main()
  MoveL Offs(defaultPoint,0,0,-2),v1000,fine,tool0
  SetDO Spindle, false
  SetDO Spindle, true
  MoveL Offs(defaultPoint,0,0,-0.5),v1000,fine,tool0
  MoveL Offs(defaultPoint,0,0,0.1),v1000,fine,tool0
  MoveL Offs(defaultPoint,0,5,0.1),v1000,fine,tool0
  MoveL Offs(defaultPoint,5,5,0.1),v1000,fine,tool0
  MoveL Offs(defaultPoint,5,0,0.1),v1000,fine,tool0
  MoveL Offs(defaultPoint,0,0,0.1),v1000,fine,tool0
  MoveL Offs(defaultPoint,0,0,-0.5),v1000,fine,tool0
  MoveL Offs(defaultPoint,0,0,-2),v1000,fine,tool0
  SetDO Spindle, false
ENDPROC


```
